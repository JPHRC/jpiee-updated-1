<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <title>Announcement Page</title>
</head>

<body>

    <div class="container mt-5">
        <h2 class="mb-4">Announcement Page</h2>

        <div class="table-responsive">
            <table class="table table-hover table-bordered">
                <tbody id="announcementContainer">
                    <!-- Announcements will be dynamically added here -->
                </tbody>
            </table>
        </div>

        <nav aria-label="Page navigation">
            <ul class="pagination" id="pagination">
                <li class="page-item"><a class="page-link" href="#" onclick="changePage(1)">First</a></li>
                <li class="page-item"><a class="page-link" href="#" onclick="changePage(currentPage - 1)">Previous</a></li>
                <!-- Page numbers will be dynamically added here -->
                <li class="page-item"><a class="page-link" href="#" onclick="changePage(currentPage + 1)">Next</a></li>
                <li class="page-item"><a class="page-link" href="#" onclick="changePage(totalPages)">Last</a></li>
            </ul>
        </nav>

    </div>

    <script>
        // Sample data array
        const announcementsData = [
            { id: 1, notificationNumber: 'N001', title: 'Announcement 1', date: '08/02/2024', fileUrl: 'path/to/file1.pdf' },
            // Add more data objects as needed
        ];

        let currentPage = 1;

        // Function to populate the container with announcements
        function populateAnnouncements(pageNumber) {
            const pageSize = 25;
            const startIndex = (pageNumber - 1) * pageSize;
            const endIndex = startIndex + pageSize;

            const announcementContainer = document.getElementById('announcementContainer');
            announcementContainer.innerHTML = ''; // Clear existing announcements

            for (let i = endIndex - 1; i >= startIndex && i >= 0; i--) {
                const announcementData = announcementsData[i];

                if (!announcementData) {
                    continue; // Skip if data is undefined
                }

                const { notificationNumber, title, date, fileUrl } = announcementData;

                const announcement = `<tr class="announcement-row">
                                        <td style="display: none;">${notificationNumber}</td>
                                        <td>${notificationNumber} - ${title} (${date}) <a href="${fileUrl}" target="_blank"><i class="fas fa-download"></i></a></td>
                                    </tr>`;

                announcementContainer.innerHTML += announcement;
            }

            // Update current page
            currentPage = pageNumber;
        }

        // Function to populate pagination
        function populatePagination() {
            const totalPages = Math.ceil(announcementsData.length / 25);
            const paginationElement = document.getElementById('pagination');
            paginationElement.innerHTML = '';

            const disablePrev = currentPage === 1 ? 'disabled' : '';
            const disableNext = currentPage === totalPages ? 'disabled' : '';

            const firstPage = `<li class="page-item ${disablePrev}"><a class="page-link" href="#" onclick="changePage(1)">First</a></li>`;
            const prevPage = `<li class="page-item ${disablePrev}"><a class="page-link" href="#" onclick="changePage(currentPage - 1)">Previous</a></li>`;

            paginationElement.innerHTML += firstPage;
            paginationElement.innerHTML += prevPage;

            for (let i = 1; i <= totalPages; i++) {
                const li = `<li class="page-item ${currentPage === i ? 'active' : ''}"><a class="page-link" href="#" onclick="changePage(${i})">${i}</a></li>`;
                paginationElement.innerHTML += li;
            }

            const nextPage = `<li class="page-item ${disableNext}"><a class="page-link" href="#" onclick="changePage(currentPage + 1)">Next</a></li>`;
            const lastPage = `<li class="page-item ${disableNext}"><a class="page-link" href="#" onclick="changePage(totalPages)">Last</a></li>`;

            paginationElement.innerHTML += nextPage;
            paginationElement.innerHTML += lastPage;
        }

        // Function to change page
        function changePage(pageNumber) {
            populateAnnouncements(pageNumber);
            populatePagination();
        }

        // Initial page load
        populateAnnouncements(1);
        populatePagination();
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
